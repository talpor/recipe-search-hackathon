<!-- The title of the ion-view will be shown on the navbar -->
<ion-view title="Recipe Search" hide-back-button="true">
  <ion-content has-bouncing="false" class="has-header">
    <div class="item-input-inset row ingredient-search">
      <h4 class="col-80">Available Ingredients</h4>
      <a class="ion-plus-circled col-offset-10" ng-click="showModal()"></a>
    </div>
    <ion-list>
      <ion-item ng-repeat="ingredient in selectedIngredients">
        {{ ingredient.name }}
        <ion-option-button class="ion-minus-circled"
                           ng-click="deleteIngredient(ingredient)">
        </ion-option-button>
      </ion-item>
    </ion-list>
  </ion-content>
  <ion-footer-bar align-title="left" class="bar-footer">
    <div class="row">
      <h4 class="col">How much time do you have?</h4>
    </div>
    <div class="row time_tabs">
        <ion-radio ng-model="availableTime" ng-value="0" class="col-20">
          <div class="time-tab-title">
            <i class="icon ion-clock"></i>
          </div>
          <div class="time-option-label">
            15m to 30m
          </div>
        </ion-radio>
        <ion-radio ng-model="availableTime" ng-value="1" class="col-20">
          <div class="time-tab-title">
            <i class="icon ion-clock"></i>
          </div>
          <div class="time-option-label">
            30m to 1h
          </div>
        </ion-radio>
        <ion-radio ng-model="availableTime" ng-value="2" class="col-20">
          <div class="time-tab-title">
            <i class="icon ion-clock"></i>
          </div>
          <div class="time-option-label">
            1h to 2h
          </div>
        </ion-radio>
        <ion-radio ng-model="availableTime" ng-value="3" class="col-20">
          <div class="time-tab-title">
            <i class="icon ion-clock"></i>
          </div>
          <div class="time-option-label">
            2h to 4h
          </div>
        </ion-radio>
        <ion-radio ng-model="availableTime" ng-value="4" class="col-20">
          <div class="time-tab-title">
            <i class="icon ion-clock"></i>
          </div>
          <div class="time-option-label">
            Forever!
          </div>
        </ion-radio>
      </div>
      <div id="buttons_row" class="row">
        <div id="random_col" class="col">
          <button class="action_button button button-block button-positive" ng-click="getRandomRecipe()">Random</button>
        </div>
        <div id="search_col" class="col">
          <button class="action_button button button-block" ng-click="showSearchResults()">Search</button>
        </div>
      </div>
  </ion-footer-bar>
</ion-view>

<script id="ingredient-modal.html" type="text/ng-template">
  <div class="modal">
    <ion-header-bar class="bar-energized">
      <h1 class="title">Add Ingredient</h1>
    </ion-header-bar>
    <ion-content has-bouncing="false">
      <div class="list">
        <label class="item-input-wrapper">
          <i class="icon ion-ios7-search placeholder-icon"></i>
          <input type="search" class="search-box" placeholder="Search" ng-model="searchTerm">
        </label>
      </div>
      <ion-list>
        <ion-item ng-repeat="ingredient in allIngredients | filter:searchTerm | filter:notSelected" ng-click="addIngredient(ingredient)">
          {{ ingredient.name }}
        </ion-item>
      </ion-list>
    </ion-content>
  </div>
</script>
